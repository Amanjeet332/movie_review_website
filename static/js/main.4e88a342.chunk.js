(this.webpackJsonpreviewmovie=this.webpackJsonpreviewmovie||[]).push([[0],{10:function(e,t,c){},20:function(e,t,c){},22:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(11),a=c.n(s),i=(c(20),c(6)),o=c(7),j=c(4),l=c(1),b=Object(n.createContext)(),u="http://www.omdbapi.com/?apikey=".concat("7761dbb7"),d=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(j.a)(c,2),s=r[0],a=r[1],d=Object(n.useState)(!0),O=Object(j.a)(d,2),h=O[0],x=O[1],m=Object(n.useState)({show:!1,msg:""}),v=Object(j.a)(m,2),f=v[0],g=v[1],p=Object(n.useState)("titanic"),N=Object(j.a)(p,2),w=N[0],S=N[1],y=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,fetch(t);case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,console.log(n),"True"===n.Response?(x(!1),g({show:!1}),a(n.Search)):(x(!1),g({show:!0,msg:n.Error})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e;return e=setTimeout((function(){y("".concat(u,"&s=").concat(w))}),2e3),function(){return clearTimeout(e)}}),[w]),Object(l.jsx)(b.Provider,{value:{movie:s,isError:f,isLoading:h,query:w,setQuery:S,setisLoading:x,setMovie:a,setisError:g},children:t})},O=function(){var e=Object(n.useContext)(b),t=e.query,c=e.setQuery,r=e.isError;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("section",{className:"search-section",children:[Object(l.jsx)("h2",{children:"Search your fav below"}),Object(l.jsx)("form",{action:"#",onSubmit:function(e){return e.preventDefault()},children:Object(l.jsx)("input",{type:"text",placeholder:"Search Here",value:t,onChange:function(e){return c(e.target.value)}})}),Object(l.jsx)("div",{className:"card-error",children:Object(l.jsx)("p",{children:r.show&&r.msg})})]})})},h=(c(10),c(5)),x=function(){var e=Object(n.useContext)(b),t=e.movie;return e.isLoading?Object(l.jsx)("div",{className:"loading",children:"Loading...."}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("section",{className:"movie-page",children:Object(l.jsx)("div",{className:"grid grid-4-col",children:t.map((function(e){var t=e.Title,c=e.Poster,n=e.imdbID;return Object(l.jsx)(h.b,{to:"/SingleMovie/".concat(n),children:Object(l.jsx)("div",{className:"className card",children:Object(l.jsxs)("div",{className:"className card-info",children:[Object(l.jsx)("h2",{children:t.length>=20?"".concat(t.substring(0,20),"..."):t.substring(0,20)}),Object(l.jsx)("img",{src:c,alt:t})]},n)},n)})}))})})})},m=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsx)(O,{})}),Object(l.jsx)("div",{children:Object(l.jsx)(x,{})})]})},v=c(2),f=function(){var e=Object(v.g)().imbdId,t=Object(n.useState)(""),c=Object(j.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!0),b=Object(j.a)(a,2),d=b[0],O=b[1],x=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,fetch(t);case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,console.log(n),"True"===n.Response?(O(!1),s(n)):O(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var t;return t=setTimeout((function(){x("".concat(u,"&i=").concat(e))}),500),function(){return clearTimeout(t)}}),[e]),d?Object(l.jsx)("div",{className:"movie-section",children:Object(l.jsx)("div",{className:"loading",children:"Loading...."})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"movie-section",children:Object(l.jsxs)("div",{className:"movie-card",children:[Object(l.jsx)("figure",{children:Object(l.jsx)("img",{src:r.Poster,alt:""})}),Object(l.jsxs)("div",{className:"card-content",children:[Object(l.jsx)("p",{className:"title",children:r.Title}),Object(l.jsx)("p",{className:"card-text",children:r.Released}),Object(l.jsx)("p",{className:"card-text",children:r.Genre}),Object(l.jsx)("p",{className:"card-text",children:r.imdbRating}),Object(l.jsx)("p",{className:"card-text",children:r.Country}),Object(l.jsx)(h.b,{to:"/home",className:"back-btn",children:"Go Back"})]})]})})})},g=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(d,{children:Object(l.jsxs)(v.c,{children:[Object(l.jsx)(v.a,{path:"/SingleMovie/:imbdId",element:Object(l.jsx)(f,{})}),Object(l.jsx)(v.a,{path:"/home",element:Object(l.jsx)(m,{})}),Object(l.jsx)(v.a,{path:"/",element:Object(l.jsx)(m,{})})]})})})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,23)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(h.a,{children:Object(l.jsx)(g,{})})})),p()}},[[22,1,2]]]);
//# sourceMappingURL=main.4e88a342.chunk.js.map